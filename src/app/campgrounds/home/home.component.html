<mat-progress-bar
  mode="indeterminate"
  color="warn"
  *ngIf="isLoading"
></mat-progress-bar>
<app-header></app-header>
<mat-card>
  <h1 class="mat-display-2">
    Welcome to YelpCamp!
  </h1>
  <h3>View our hand-picked campgrounds from all over the world</h3>
  <button
    mat-raised-button
    color="accent"
    [routerLink]="['/campgrounds/process/new']"
  >
    Add New Campground
  </button>
  <!-- <mat-form-field> -->
  <br />
  <form class="campground-search" (submit)="onSearchCampground()">
    <mat-form-field class="example-full-width">
      <input
        type="text"
        matInput
        name="searchCamp"
        [(ngModel)]="search"
        placeholder="Campground search..."
      />
    </mat-form-field>
    <!-- <mat-autocomplete #auto="matAutocomplete">
      <mat-option
        *ngFor="let campgroundName of campgroundNamesList"
        [value]="campgroundName"
      >
        {{ campgroundName }}
      </mat-option>
    </mat-autocomplete> -->
    <button
      mat-button
      *ngIf="searchMode"
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="onClearSearch()"
    >
      <mat-icon>close</mat-icon>
    </button>
    <button mat-button type="submit">Search</button>
  </form>
</mat-card>
<!-- <mat-spinner *ngIf="isLoading"></mat-spinner> -->
<mat-grid-list
  class="campgrounds-grid"
  cols="4"
  rowHeight="2:3"
  gutterSize="5px"
  *ngIf="!isLoading"
>
  <mat-grid-tile *ngFor="let campground of campgrounds">
    <mat-card>
      <img
        class="campground-preview-image"
        mat-card-image
        [src]="campground.image"
        alt="Campground Preview Image"
      />
      <div class="campground-preview-cta">
        <mat-card-title class="campground-preview-title">{{
          campground.name
        }}</mat-card-title>
        <button
          class="campground-preview-button"
          mat-raised-button
          color="accent"
          [routerLink]="['/campgrounds/show/', campground._id]"
        >
          Know More
        </button>
      </div>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
<div class="paginator">
  <mat-paginator
    [length]="totalCampgrounds"
    [pageSize]="campgroundsPerPage"
    [pageSizeOptions]="pageSizeOptions"
    (page)="onChangedPage($event)"
    *ngIf="campgrounds.length > 0"
    #paginator
  ></mat-paginator>
</div>
